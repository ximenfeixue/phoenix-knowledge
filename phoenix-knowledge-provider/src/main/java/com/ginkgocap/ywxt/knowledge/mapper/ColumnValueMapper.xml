<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="com.ginkgocap.ywxt.knowledge.mapper.ColumnMapper" >
  <resultMap id="BaseResultMap" type="com.ginkgocap.ywxt.knowledge.entity.Column" >
    <id column="id" property="id" jdbcType="BIGINT" />
    <result column="columnName" property="columnname" jdbcType="VARCHAR" />
    <result column="user_id" property="userId" jdbcType="BIGINT" />
    <result column="parent_id" property="parentId" jdbcType="BIGINT" />
    <result column="createtime" property="createtime" jdbcType="TIMESTAMP" />
    <result column="column_level_path" property="columnLevelPath" jdbcType="VARCHAR" />
    <result column="del_status" property="delStatus" jdbcType="TINYINT" />
    <result column="update_time" property="updateTime" jdbcType="TIMESTAMP" />
    <result column="subscribe_count" property="subscribeCount" jdbcType="BIGINT" />
  </resultMap>
 	 <select id="selectCategoryTreeBySortId" resultMap="BaseResultMap">
		select *
		from tb_column
		where del_status=0 
		and user_id=#{createUserId}
		<if test="columnLevelPath != null and columnLevelPath != ''">
		column_level_path=#{columnLevelPath}
		</if>
		order by column_level_path
	</select>
</mapper>