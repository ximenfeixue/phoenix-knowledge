<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="com.ginkgocap.ywxt.knowledge.mapper.UserPermissionValueMapper" >
 
 <insert id="batchInsert" parameterType="java.util.List">
    
    insert into tb_user_permission (
			receive_user_id,
			knowledge_id,
			send_user_id,
			type,
			mento,
			createtime,
			column_id
			
		) values 
		 	<foreach collection="list" item="item" index="index" separator="," >  
        (#{item.receiveUserId},
				 #{item.knowledgeId},
				 #{item.sendUserId},
				 #{item.type}, #{item.mento}, #{item.createtime}, #{item.columnId})
    </foreach>  
 </insert>
 
  <select id="selectByParams" resultClass="long" >
		select knowledge_id from tb_user_permission
		where 1=1
		<if test="receive_user_id != null">		
			and receive_user_id=#{receive_user_id} 
		</if>
		<if test="type != null">		
			and type=#{type} 
		</if>
		<if test="column_id != null">		
			and column_id=#{column_id} 
		</if>
	</select>
	
  <select id="selectByParamsSingle" resultClass="long" >
		select knowledge_id from tb_user_permission
		where (
		(receive_user_id=#{receive_user_id} and type=3) 
			or type=4 )
		and column_id=#{column_id} 
	</select>
</mapper>